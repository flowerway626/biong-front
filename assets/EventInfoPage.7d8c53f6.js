import{ah as q,r as u,H as S,I as B,S as x,j as d,k as c,d as e,K as l,b3 as C,l as s,R as n,b7 as V,q as p,O as _,b4 as E,N as A,b8 as D,b9 as I,aA as N,ai as v}from"./index.431554ff.js";import{Q as i,a as f}from"./QSkeleton.0110eac2.js";import{Q as F}from"./QInput.dc9e7893.js";import{Q as K,a as P}from"./QCard.074a6c4b.js";import{Q as R}from"./QCardActions.8d72caa6.js";import{Q as T}from"./QForm.1b0dbbef.js";import{Q as U}from"./QDialog.b6a0fce8.js";import{C as y}from"./ClosePopup.5133ba27.js";import{u as $}from"./use-quasar.657d2733.js";import"./use-key-composition.2542fc4c.js";const j={id:"event-info"},z={key:0,class:"column row-md q-mx-xl q-my-md"},H={class:"col-12 col-md-6 q-pa-md text-center"},M=["src"],O={class:"col-12 col-md-6 q-px-md"},G={class:"text-h4 q-my-md"},J={class:"description pre"},L={class:"pre"},W={key:0},X={key:1},Y={key:1,class:"column row-md q-mx-xl q-my-md"},Z={class:"col-12 col-md-6 q-pa-md text-center"},ee={class:"col-12 col-md-6 q-px-md"},te=s("span",{class:"text-weight-bold"},"Check",-1),ae=s("p",null,"\u6D3B\u52D5\u5831\u540D\u5F8C\u7121\u6CD5\u53D6\u6D88",-1),_e={__name:"EventInfoPage",setup(oe){$();const w=q(),g=E();u(!0);const m=u(!1),b=u(!0),{addMember:Q}=w,h=u(""),t=S({name:"",description:"",date:"",place:"",image:void 0,number:0,member:[]});(async()=>{var r,o;try{const{data:a}=await B.get("/events/"+g.params.id);t.name=a.result.name,t.description=a.result.description,t.dateStart=a.result.dateStart,t.dateEnd=a.result.dateEnd,t.place=a.result.place,t.image=a.result.image,t.number=a.result.number,b.value=!1,document.title="Biong Biong | "+t.name}catch(a){x.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((o=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:o.message)||"\u8A02\u55AE\u932F\u8AA4\uFF01"})}})();const k=async()=>{var r,o;try{await Q(g.params.id.toString(),h.value)}catch(a){x.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((o=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:o.message)||"\u5831\u540D\u932F\u8AA4\uFF01"})}};return(r,o)=>(d(),c("div",j,[e(C,{class:"text-warning q-ma-md q-pl-xl","active-color":"grey"},{separator:l(()=>[e(A,{size:"1.5em",name:"chevron_right",color:"grey"})]),default:l(()=>[e(f,{label:"\u9996\u9801",icon:"mdi-home",to:"/"}),e(f,{label:"\u6D3B\u52D5\u516C\u544A",icon:"mdi-newspaper-variant-multiple-outline",to:"/event"}),e(f,{label:t.name,icon:"mdi-new-box"},null,8,["label"])]),_:1}),b.value?p("",!0):(d(),c("div",z,[s("div",H,[s("img",{src:t==null?void 0:t.image},null,8,M)]),s("div",O,[s("div",G,n(t.name),1),s("p",null,n(t.dateStart+" ~ "+t.dateEnd),1),s("p",J,n(t.description),1),e(V,{class:"scroll-area q-my-md",visible:"","bar-style":{borderRadius:"5px",background:"black"}},{default:l(()=>[s("p",L,n(t.description),1)]),_:1}),t.number!==0?(d(),c("p",W,n("\u9650\u5236\u4EBA\u6578 | "+t.number),1)):p("",!0),t.place!=="\u7121"?(d(),c("p",X,n("\u5730\u5740 | "+t.place),1)):p("",!0),e(_,{class:"full-width",label:"\u6D3B\u52D5\u5831\u540D",rounded:"",color:"warning","text-color":"black",onClick:o[0]||(o[0]=a=>m.value=!m.value)})])])),b.value?(d(),c("div",Y,[s("div",Z,[e(i,{width:"450px",height:"450px",style:{margin:"auto"}})]),s("div",ee,[e(i,{class:"text-h1",type:"text",width:"60%"}),e(i,{class:"text-h5",type:"text",width:"30%",style:{"margin-bottom":"20px"}}),e(i,{class:"p",type:"text",height:"30px",width:"70%"}),e(i,{class:"p",type:"text",height:"30px",width:"70%"}),e(i,{class:"p",type:"text",height:"30px",width:"70%",style:{"margin-bottom":"200px"}}),e(_,{class:"full-width",label:"\u6D3B\u52D5\u5831\u540D",rounded:"",color:"warning","text-color":"black"})])])):p("",!0),e(U,{modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=a=>m.value=a),persistent:""},{default:l(()=>[e(K,null,{default:l(()=>[e(T,{onSubmit:k},{default:l(()=>[e(D,null,{default:l(()=>[e(I,null,{default:l(()=>[te]),_:1})]),_:1}),e(P,null,{default:l(()=>[ae,e(F,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=a=>h.value=a),autofocus:"",onKeyup:o[2]||(o[2]=N(a=>r.prompt=!1,["enter"])),color:"warning",label:"\u9023\u7D61\u96FB\u8A71",mask:"#### - ### - ###"},null,8,["modelValue"])]),_:1}),e(R,{class:"text-primary",align:"right"},{default:l(()=>[v(e(_,{flat:"",label:"Cancel",color:"pink"},null,512),[[y]]),v(e(_,{flat:"",label:"Submit",color:"secondary",type:"submit"},null,512),[[y]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{_e as default};
