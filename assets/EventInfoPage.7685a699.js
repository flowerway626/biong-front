import{as as x,r as d,I as k,J as C,S as _,j as u,k as c,d as a,K as s,aY as E,l,N as n,q as g,O as p,aZ as S,W as V,b1 as B,b2 as q,aA as N,au as v}from"./index.8e5d787a.js";import{Q as f}from"./QBreadcrumbsEl.1f8527c3.js";import{Q as A}from"./QInput.f3960b8b.js";import{Q as I}from"./QCardSection.229fc748.js";import{Q as T}from"./QCardActions.32d077fe.js";import{Q as D}from"./QForm.cd866f99.js";import{Q as F}from"./QCard.03da8402.js";import{Q as K}from"./QDialog.73b884d1.js";import{C as h}from"./ClosePopup.f63e6e04.js";import{u as O}from"./use-quasar.dc773a68.js";import"./uid.42677368.js";const U={id:"event-info"},M={class:"row q-mx-xl q-my-md"},P={class:"col q-px-md"},$={class:"text-h4 q-my-md"},j={class:"pre"},z={key:0},H={key:1},J={class:"col q-pa-md text-center"},R=["src"],W=l("span",{class:"text-weight-bold"},"Check",-1),Y=l("p",null,"\u6D3B\u52D5\u5831\u540D\u5F8C\u7121\u6CD5\u53D6\u6D88",-1),ie={__name:"EventInfoPage",setup(Z){O();const Q=x(),b=S();d(!0);const i=d(!1),{addMember:y}=Q,m=d(""),t=k({name:"",description:"",date:"",place:"",image:void 0,number:0,member:[]});(async()=>{var r,o;try{const{data:e}=await C.get("/events/"+b.params.id);t.name=e.result.name,t.description=e.result.description,t.dateStart=e.result.dateStart,t.dateEnd=e.result.dateEnd,t.place=e.result.place,t.image=e.result.image,t.number=e.result.number,t.member=e.result.member,console.log(t)}catch(e){_.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((o=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:o.message)||"\u8A02\u55AE\u932F\u8AA4\uFF01"})}})();const w=async()=>{var r,o;try{await y(b.params.id.toString(),m.value)}catch(e){_.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((o=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:o.message)||"\u5831\u540D\u932F\u8AA4\uFF01"})}};return(r,o)=>(u(),c("div",U,[a(E,{class:"text-warning q-ma-md q-pl-xl","active-color":"grey"},{separator:s(()=>[a(V,{size:"1.5em",name:"chevron_right",color:"grey"})]),default:s(()=>[a(f,{label:"HOME",icon:"mdi-home",to:"/"}),a(f,{label:"EVENTS",icon:"mdi-newspaper-variant-multiple-outline",to:"/event"}),a(f,{label:"EVENTINFO",icon:"mdi-new-box"})]),_:1}),l("div",M,[l("div",P,[l("div",$,n(t.name),1),l("p",null,n(t.dateStart+" ~ "+t.dateEnd),1),l("p",j,n(t.description),1),t.number!==0?(u(),c("p",z,n("\u9650\u5236\u4EBA\u6578 | "+t.number),1)):g("",!0),t.place!=="\u7121"?(u(),c("p",H,n("\u5730\u5740 | "+t.place),1)):g("",!0),a(p,{class:"full-width",label:"\u6D3B\u52D5\u5831\u540D",rounded:"",color:"warning","text-color":"black",onClick:o[0]||(o[0]=e=>i.value=!i.value)})]),l("div",J,[l("img",{src:t.image,style:{height:"500px"}},null,8,R)])]),a(K,{modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=e=>i.value=e),persistent:""},{default:s(()=>[a(F,null,{default:s(()=>[a(D,{onSubmit:w},{default:s(()=>[a(B,null,{default:s(()=>[a(q,null,{default:s(()=>[W]),_:1})]),_:1}),a(I,null,{default:s(()=>[Y,a(A,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value=e),autofocus:"",onKeyup:o[2]||(o[2]=N(e=>r.prompt=!1,["enter"])),color:"warning",label:"\u9023\u7D61\u96FB\u8A71",mask:"#### - ### - ###"},null,8,["modelValue"])]),_:1}),a(T,{class:"text-primary",align:"right"},{default:s(()=>[v(a(p,{flat:"",label:"Cancel",color:"pink"},null,512),[[h]]),v(a(p,{flat:"",label:"Submit",color:"secondary",type:"submit"},null,512),[[h]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ie as default};
