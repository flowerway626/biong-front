import{Q as i}from"./QImg.c3d90a00.js";import{I as _,aX as d,S as u,j as c,k as n,F as m,M as p,l as s,L as h,V as v,K as w,d as x,N as l}from"./index.8e5d787a.js";const g={id:"new-all"},k=s("div",{class:"text-h4 text-center q-pt-xl"},"\u6700\u65B0\u6D88\u606F",-1),b={class:"news-info"},y={class:"absolute text-subtitle2"},B={class:"absolute text-h6"},N={class:"absolute text-subtitle1 text-ellipsis"},C={__name:"NewsPage",setup(f){const a=_([]);return(async()=>{var o,r;try{const{data:t}=await d.get("/news");a.push(...t.result),a.reverse()}catch(t){u.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((r=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:r.message)||"\u53D6\u5F97\u6D3B\u52D5\u932F\u8AA4\uFF01"})}})(),(o,r)=>{const t=h("router-link");return c(),n("div",g,[k,(c(!0),n(m,null,p(a,e=>(c(),v(t,{class:"q-ma-sm",key:e._id,to:"/news/"+e._id},{default:w(()=>[s("div",b,[x(i,{class:"absolute",src:e.image},null,8,["src"]),s("div",y,l(new Date(e.date).toLocaleString()),1),s("div",B,l(e.title),1),s("div",N,l(e.content),1)])]),_:2},1032,["to"]))),128))])}}};export{C as default};
