import{r as B,H as x,I as p,S as C,j as c,k as d,d as s,K as g,b2 as S,l as i,R as n,F as y,P as v,q as m,b3 as f,L as N,N as Q,aC as w}from"./index.6524b1e7.js";import{Q as a,a as _}from"./QSkeleton.77cea770.js";const R={id:"new-info"},E={key:0,class:"row q-mx-xl q-my-md"},L={class:"col-12 col-md-8 q-pa-md"},P={class:"text-center"},D=["src"],F={class:"text-h4 q-my-md"},T={class:"text-body1 pre"},V={key:0,class:"col-12 col-md-4 q-px-md"},A=i("div",{class:"text-h6 q-my-md"},"MORE ...",-1),M=["onClick"],O={class:"text-body2"},$={class:"text-body1 q-my-md"},j={class:"text-body2 pre text-ellipsis"},z={key:1,class:"row q-mx-xl q-my-md"},H={class:"col-12 col-md-8 q-pa-md"},K={class:"text-center"},G={key:0,class:"col-12 col-md-4 q-px-md"},J=i("div",{class:"text-h6 q-my-md"},"MORE ...",-1),U=["onClick"],Z={__name:"NewInfoPage",setup(W){const q=f(),b=N(),r=B(!0),l=x([]),t=x({title:"",content:"",date:"",image:void 0});(async()=>{var o,h;try{const e=await Promise.all([p.get("/news/"+q.params.id),p.get("/news/recom")]);t.title=e[0].data.result.title,t.content=e[0].data.result.content,t.date=e[0].data.result.date,t.image=e[0].data.result.image,l.push(...e[1].data.result),r.value=!1,document.title="Biong Biong | "+t.title}catch(e){C.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((h=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:h.message)||"\u6700\u65B0\u6D88\u606F\u932F\u8AA4\uFF01"})}})();const u=async o=>{const{data:h}=await p.get("/news/recom");b.push("/news/"+o._id),t.title=o.title,t.content=o.content,t.date=o.date,t.image=o.image,document.title="Biong Biong | "+t.title,l.splice(0,l.length),l.push(...h.result)};return(o,h)=>(c(),d("div",R,[s(S,{class:"text-warning q-ma-md q-pl-xl","active-color":"grey"},{separator:g(()=>[s(Q,{size:"1.5em",name:"chevron_right",color:"grey"})]),default:g(()=>[s(_,{label:"\u9996\u9801",icon:"mdi-home",to:"/"}),s(_,{label:"\u6700\u65B0\u6D88\u606F",icon:"mdi-newspaper-variant-multiple-outline",to:"/news"}),s(_,{label:t==null?void 0:t.title,icon:"mdi-new-box"},null,8,["label"])]),_:1}),r.value?m("",!0):(c(),d("div",E,[i("div",L,[i("div",P,[i("img",{src:t==null?void 0:t.image,style:{"max-width":"600px","max-height":"400px"}},null,8,D)]),i("div",F,n(t==null?void 0:t.title),1),i("p",null,n(new Date(t==null?void 0:t.date).toLocaleString()),1),i("div",T,n(t==null?void 0:t.content),1)]),r.value?m("",!0):(c(),d("div",V,[A,(c(!0),d(y,null,v(l,e=>(c(),d("div",{id:"latesThree",key:e._id,onClick:k=>u(e)},[i("div",O,n(new Date(e==null?void 0:e.date).toLocaleString()),1),i("div",$,n(e==null?void 0:e.title),1),i("div",j,n(e==null?void 0:e.content),1),s(w,{class:"q-my-md"})],8,M))),128))]))])),r.value?(c(),d("div",z,[i("div",H,[i("div",K,[s(a,{width:"600px",height:"400px",style:{margin:"0 auto 20px"}})]),s(a,{class:"text-h2",type:"text",width:"70%"}),s(a,{class:"p",type:"text",width:"20%",height:"40px",style:{"margin-bottom":"20px"}}),s(a,{class:"p",type:"text",width:"50%",height:"40px"}),s(a,{class:"p",type:"text",width:"50%",height:"40px"}),s(a,{class:"p",type:"text",width:"50%",height:"40px"})]),r.value?(c(),d("div",G,[J,(c(!0),d(y,null,v(l,e=>(c(),d("div",{id:"latesThree",key:e._id,onClick:k=>u(e)},[s(a,{class:"p",type:"text",width:"50%",height:"40px"}),s(a,{class:"p",type:"text",width:"80%",height:"40px"}),s(a,{class:"p",type:"text",width:"50%",height:"30px"}),s(a,{class:"p",type:"text",width:"50%",height:"30px"}),s(w,{class:"q-my-md"})],8,U))),128))])):m("",!0)])):m("",!0)]))}};export{Z as default};
