import{as as v,r as p,I as y,J as x,S as m,j as w,k as Q,d as t,K as i,aY as k,l as a,N as n,O as c,F as B,aZ as C,at as q,W as I}from"./index.8e5d787a.js";import{Q as u}from"./QBreadcrumbsEl.1f8527c3.js";import{Q as S}from"./QImg.c3d90a00.js";import{Q as V}from"./QInput.f3960b8b.js";import{Q as N}from"./QBtnGroup.173834d9.js";import{u as P}from"./use-quasar.dc773a68.js";import"./uid.42677368.js";const $={class:"row"},E={class:"col"},F={class:"col"},O={class:"pre"},D={__name:"ProductPage",setup(z){const d=P(),g=v(),{editCart:f}=g;p(!1);const b=C(),_=q(),r=p(0),e=y({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),h=()=>{r.value===0?m.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF\uFF01"}):(f({_id:e._id,quantity:r.value}),r.value=0,d.notify({type:"positive",color:"pink",message:"\u52A0\u5165\u8CFC\u7269\u8ECA",position:"top"}))};return(async()=>{try{const{data:o}=await x.get("/products/"+b.params.id);e._id=o.result._id,e.name=o.result.name,e.price=o.result.price,e.description=o.result.description,e.image=o.result.image,e.category=o.result.category,e.sell=o.result.sell}catch{m.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),_.push("/shopping")}})(),(o,s)=>(w(),Q(B,null,[t(k,{class:"text-warning q-ma-md q-pl-xl","active-color":"grey"},{separator:i(()=>[t(I,{size:"1.5em",name:"chevron_right",color:"grey"})]),default:i(()=>[t(u,{label:"HOME",icon:"mdi-home",to:"/"}),t(u,{label:"SHOPPING",icon:"mdi-store",to:"/shopping"}),t(u,{label:e.name,icon:"mdi-shopping"},null,8,["label"])]),_:1}),a("div",$,[a("div",E,[t(S,{style:{height:"500px",width:"500px"},src:e.image},null,8,["src"])]),a("div",F,[a("h4",null,n(e.name),1),a("h5",null,"$ "+n(e.price),1),a("p",O,n(e.description),1),t(N,{outline:""},{default:i(()=>[t(c,{color:"brown",label:"-",onClick:s[0]||(s[0]=l=>r.value--)}),t(V,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l),modelModifiers:{number:!0},type:"number",style:{width:"100px","font-size":"16px"},"input-class":"text-center text-weight-bold"},null,8,["modelValue"]),t(c,{color:"brown",label:"+",onClick:s[2]||(s[2]=l=>r.value++)})]),_:1}),t(c,{color:"brown",label:"\u52A0\u5165\u8CFC\u7269\u8ECA",onClick:h})])])],64))}};export{D as default};
