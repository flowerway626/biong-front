import{Q as v}from"./QImg.9d882772.js";import{as as y,r as u,I as b,J as h,S as c,j as w,k as x,l as a,d as r,N as l,K as k,O as n,aY as Q,at as B}from"./index.e2f377c7.js";import{Q as C}from"./QInput.fe67ba2a.js";import{Q as V}from"./QBtnGroup.6355c374.js";import{u as S}from"./use-quasar.23bb4798.js";import"./use-key-composition.5af287d2.js";import"./uid.42677368.js";const $={class:"row"},q={class:"col"},I={class:"col"},N={class:"pre"},F={__name:"ProductPage",setup(A){const p=S(),d=y(),{editCart:m}=d;u(!1);const f=Q(),g=B(),o=u(0),e=b({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),_=()=>{o.value===0?c.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF\uFF01"}):(m({_id:e._id,quantity:o.value}),o.value=0,p.notify({type:"positive",color:"pink",message:"\u52A0\u5165\u8CFC\u7269\u8ECA",position:"top"}))};return(async()=>{try{const{data:t}=await h.get("/products/"+f.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.category=t.result.category,e.sell=t.result.sell}catch{c.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),g.push("/shopping")}})(),(t,s)=>(w(),x("div",$,[a("div",q,[r(v,{style:{height:"500px",width:"500px"},src:e.image},null,8,["src"])]),a("div",I,[a("h4",null,l(e.name),1),a("h5",null,"$ "+l(e.price),1),a("p",N,l(e.description),1),r(V,{outline:""},{default:k(()=>[r(n,{color:"brown",label:"-",onClick:s[0]||(s[0]=i=>o.value--)}),r(C,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value=i),modelModifiers:{number:!0},type:"number",style:{width:"100px","font-size":"16px"},"input-class":"text-center text-weight-bold"},null,8,["modelValue"]),r(n,{color:"brown",label:"+",onClick:s[2]||(s[2]=i=>o.value++)})]),_:1}),r(n,{color:"brown",label:"\u52A0\u5165\u8CFC\u7269\u8ECA",onClick:_})])]))}};export{F as default};
