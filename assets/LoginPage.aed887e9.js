import{H as w,r as i,I as y,j as Q,k as V,d as o,L as t,A as b,M as h,af as x,Q as m,a9 as L,P as C}from"./index.4d5ced3c.js";import{Q as _}from"./QBtnToggle.0d7b4730.js";import{Q as p}from"./QCardSection.43480bc7.js";import{Q as g}from"./QInput.64db43b3.js";import{Q as $}from"./QForm.63aa1ffe.js";import{Q as k}from"./QCard.fc670659.js";import{Q as U}from"./QDialog.c92d743b.js";import{C as B}from"./ClosePopup.3f8ce47d.js";import"./QBtnGroup.90a2847c.js";import"./uid.42677368.js";const I={id:"login"},H={__name:"LoginPage",setup(P){const f=w(),d=i(!0),r=i(!0),n=i("login"),u=h(),a=y({account:"",password:""}),c=()=>{n.value==="login"?u.push("/login"):u.push("/register")},v=async()=>{await f.login(a)};return(s,e)=>(Q(),V("div",I,[o(U,{id:"loginDialog",modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value=l),persistent:"","transition-show":"fade",onBeforeHide:e[5]||(e[5]=()=>b(u).push("/"))},{default:t(()=>[o(k,{class:"login-card"},{default:t(()=>[x(o(m,{icon:"close",flat:"",round:"",style:{height:"24px","z-index":"7000",position:"absolute",right:"0"},to:"/"},null,512),[[B]]),o(p,{class:"flex justify-center"},{default:t(()=>[o(_,{class:"q-mt-md",style:{width:"85%"},spread:"","toggle-color":"white","toggle-text-color":"black",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),options:[{label:"LOGIN",value:"login"},{label:"REGISTER",value:"register"}],onClick:c},null,8,["modelValue"])]),_:1}),o(p,{class:"flex column justify-center"},{default:t(()=>[o($,{style:{margin:"auto",width:"90%"},onSubmit:v},{default:t(()=>[o(g,{modelValue:a.account,"onUpdate:modelValue":e[1]||(e[1]=l=>a.account=l),label:"account",counter:"",maxlength:"20",color:"warning",rules:[s.$rules.required("\u6B04\u4F4D\u5FC5\u586B"),s.$rules.maxLength(20,"\u9577\u5EA6\u9700\u70BA 4~20 \u500B\u5B57\u5143"),s.$rules.minLength(4,"\u9577\u5EA6\u9700\u70BA 4~20 \u500B\u5B57\u5143")]},null,8,["modelValue","rules"]),o(g,{modelValue:a.password,"onUpdate:modelValue":e[3]||(e[3]=l=>a.password=l),label:"password",type:r.value?"password":"text",counter:"",maxlength:"20",color:"warning",rules:[s.$rules.required("\u6B04\u4F4D\u5FC5\u586B"),s.$rules.maxLength(20,"\u9577\u5EA6\u9700\u70BA 4~20 \u500B\u5B57\u5143"),s.$rules.minLength(4,"\u9577\u5EA6\u9700\u70BA 4~20 \u500B\u5B57\u5143")]},{append:t(()=>[o(L,{class:"cursor-pointer",name:r.value?"visibility_off":"visibility",onClick:e[2]||(e[2]=l=>r.value=!r.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),o(m,{class:"full-width q-my-xl",type:"submit",size:"md",push:"",color:"secondary"},{default:t(()=>[C("\u767B\u5165")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{H as default};
