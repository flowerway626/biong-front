import{r as k,H as x,I as p,S as B,j as n,k as c,d as e,K as g,b3 as C,l as a,R as d,F as y,P as v,q as m,b4 as S,L as I,N,aD as w}from"./index.de5b4897.js";import{Q as o,a as _}from"./QSkeleton.36a3ebfe.js";const Q={id:"new-info"},R={key:0,class:"row q-mx-xl q-my-md"},D={class:"col-12 col-md-8 q-pa-md"},E={class:"text-center"},L=["src"],P={class:"text-h4 q-my-md"},F={class:"text-body1 pre"},T={key:0,class:"col-12 col-md-4 q-px-md"},V=a("div",{class:"text-h6 q-my-md"},"MORE ...",-1),A=["onClick"],M={class:"text-body2"},O={class:"text-body1 q-my-md"},$={class:"text-body2 pre text-ellipsis"},j={key:1,class:"row q-mx-xl q-my-md"},z={class:"col-12 col-md-8 q-pa-md"},H={class:"text-center"},K={key:0,class:"col-12 col-md-4 q-px-md"},G=a("div",{class:"text-h6 q-my-md"},"MORE ...",-1),J=["onClick"],Y={__name:"NewInfoPage",setup(U){const q=S(),b=I(),r=k(!0),l=x([]),s=x({title:"",content:"",date:"",image:void 0});(async()=>{var i,h;try{const t=await Promise.all([p.get("/news/"+q.params.id),p.get("/news/recom")]);s.title=t[0].data.result.title,s.content=t[0].data.result.content,s.date=t[0].data.result.date,s.image=t[0].data.result.image,l.push(...t[1].data.result),r.value=!1,document.title="Biong Biong | "+s.title}catch(t){B.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((h=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:h.message)||"\u6700\u65B0\u6D88\u606F\u932F\u8AA4\uFF01"})}})();const u=async i=>{const{data:h}=await p.get("/news/recom");b.push("/news/"+i._id),s.title=i.title,s.content=i.content,s.date=i.date,s.image=i.image,document.title="Biong Biong | "+s.title,l.splice(0,l.length),l.push(...h.result)};return(i,h)=>(n(),c("div",Q,[e(C,{class:"text-warning q-ma-md q-pl-xl","active-color":"grey"},{separator:g(()=>[e(N,{size:"1.5em",name:"chevron_right",color:"grey"})]),default:g(()=>[e(_,{label:"\u9996\u9801",icon:"mdi-home",to:"/"}),e(_,{label:"\u6700\u65B0\u6D88\u606F",icon:"mdi-newspaper-variant-multiple-outline",to:"/news"}),e(_,{label:s.title,icon:"mdi-new-box"},null,8,["label"])]),_:1}),r.value?m("",!0):(n(),c("div",R,[a("div",D,[a("div",E,[a("img",{src:s.image,style:{"max-width":"600px","max-height":"400px"}},null,8,L)]),a("div",P,d(s.title),1),a("p",null,d(new Date(s.date).toLocaleString()),1),a("div",F,d(s.content),1)]),r.value?m("",!0):(n(),c("div",T,[V,(n(!0),c(y,null,v(l,t=>(n(),c("div",{id:"latesThree",key:t._id,onClick:f=>u(t)},[a("div",M,d(new Date(t.date).toLocaleString()),1),a("div",O,d(t.title),1),a("div",$,d(t.content),1),e(w,{class:"q-my-md"})],8,A))),128))]))])),r.value?(n(),c("div",j,[a("div",z,[a("div",H,[e(o,{width:"600px",height:"400px",style:{margin:"0 auto 20px"}})]),e(o,{class:"text-h2",type:"text",width:"70%"}),e(o,{class:"p",type:"text",width:"20%",height:"40px",style:{"margin-bottom":"20px"}}),e(o,{class:"p",type:"text",width:"50%",height:"40px"}),e(o,{class:"p",type:"text",width:"50%",height:"40px"}),e(o,{class:"p",type:"text",width:"50%",height:"40px"})]),r.value?(n(),c("div",K,[G,(n(!0),c(y,null,v(l,t=>(n(),c("div",{id:"latesThree",key:t._id,onClick:f=>u(t)},[e(o,{class:"p",type:"text",width:"50%",height:"40px"}),e(o,{class:"p",type:"text",width:"80%",height:"40px"}),e(o,{class:"p",type:"text",width:"50%",height:"30px"}),e(o,{class:"p",type:"text",width:"50%",height:"30px"}),e(w,{class:"q-my-md"})],8,J))),128))])):m("",!0)])):m("",!0)]))}};export{Y as default};
