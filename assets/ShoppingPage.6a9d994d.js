import{as as y,at as h,j as n,V as v,K as c,d as i,A as S,l as d,N as x,O as C,P as k,S as f,_ as B,I as P,r as Q,J as w,k as p,F as m,M as I,R as b,U as N,s as q,t as A}from"./index.8e5d787a.js";import{Q as V}from"./QImg.c3d90a00.js";import{Q as $}from"./QCardActions.32d077fe.js";import{Q as F}from"./QCard.03da8402.js";import{u as R}from"./use-quasar.dc773a68.js";const U={class:"absolute-bottom text-h6"},j={__name:"ProductCard",props:{_id:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0},description:{type:String,default:""},image:{type:String,default:""},category:{type:String,default:""},sell:{type:Boolean,default:!1}},setup(t){const o=async _=>{var a,l;try{g.notify({type:"positive",color:"secondary",message:"\u52A0\u5165\u8CFC\u7269\u8ECA",position:"top"}),await e({_id:_,quantity:1})}catch(u){f.fire({toast:!0,timer:1e3,showConfirmButton:!1,background:"#F5ABA5",icon:"error",color:"black",text:((l=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:l.message)||"\u767C\u751F\u932F\u8AA4\uFF01"})}},s=y(),{editCart:e}=s,r=h(),g=R();return(_,a)=>(n(),v(F,{class:"product-Info"},{default:c(()=>[i(V,{class:"cursor-pointer",src:t.image,height:"200px",onClick:a[0]||(a[0]=()=>S(r).push("/shopping/"+t._id))},{default:c(()=>[d("div",U,x(t.name),1)]),_:1},8,["src"]),i($,null,{default:c(()=>[i(C,{onClick:a[1]||(a[1]=l=>o(t._id)),push:"",color:"secondary"},{default:c(()=>[k("\u52A0\u5165\u8CFC\u7269\u8ECA")]),_:1})]),_:1})]),_:1}))}};const z=t=>(q("data-v-8ec8c586"),t=t(),A(),t),D=z(()=>d("h5",null,"\u5468\u908A",-1)),E={class:"q-ma-auto"},J={class:"row"},K={__name:"ShoppingPage",setup(t){const o=P([]);return Q(1),(async()=>{var s;try{const{data:e}=await w.get("/products");o.push(...e.result)}catch(e){f.fire({icon:"error",title:"error",text:((s=e==null?void 0:e.response)==null?void 0:s.data.message)||"\u767C\u751F\u932F\u8AA4"})}})(),(s,e)=>(n(),p(m,null,[D,d("div",E,[d("div",J,[(n(!0),p(m,null,I(o,r=>(n(),p("div",{class:"col-xs-12 col-sm-4 col-md-3 q-ma-lg",key:r.id},[i(j,b(N(r)),null,16)]))),128))])])],64))}};var H=B(K,[["__scopeId","data-v-8ec8c586"]]);export{H as default};
